
# Challenges:

## Add Create a manual order - "create order" button -> csv upload option

## Add Create inventory item - "create item" button -> csv upload option

## Theme dark - remove background pic with black bkg, light - remove background pic and text-black bg-white, default - picture or change picture url like in dashboard

## Order numbers can be strings or numbers (table is set up as INT and .post validates for .isNumeric() )

## Question - did I need to set up CRUD for every table and column (maybe some didn't need to be included)

## Update each table with a .get if need it for reporting/dashboard

## Picking - add single order (type in order number), single item, single sku, ship by date, and keep oldest order. Add checkboxes or dropdown to choose. Add ship by date to orders table.

## Picking - need a way to lock or hold inv that is in a current pickList without locking any location's inventory, just removes from total_quantity. Something like: pickList is generated, item qtys are moved to "picking" status. A list is generated for inventory counts or if a cycle count is generated, anything in "picking" is listed. When count that location user can count the "picking" qty and verify it with the picking column and count the rest as the cycle count qty. (This assumes picking and counting are happening at the same time, and allows counting ahead of the picker before they arrive to take the items on the pickList). No need to stop work to do daily inventory checks or routine counts.

## Inventory counts, Receiving, Returns, Inventory adjustments that are not cumbersome and tracking

## A way to inventory or track packaging material usage, boxes

## Accurate weight and pkg dimensions saves client money until hits next tier level with carrier agreements.Think about ways to improve this feature.

## Order Page: Add ability to edit each order, a find search and have a selection option, pop-up to edit order.


# Notes:

## If update quantities in the app, backend updates happen correctly

## If update database directly, need to run this update manually to sync UI and backend.

<!-- UPDATE items
    SET total_quantity = (
  SELECT COALESCE(SUM(quantity), 0)
  FROM item_locations
  WHERE item_id = 1
)
WHERE id = 1;  -->

## Current logic: Picklist is generated by oldest order_number logic only, for now. Created a status for orders: open, staged (if moved to staged file), should add packed, shipped, hold, orderUpdated etc.

## Update orders total to include shipping paid, then delete shipping on orders screen, show this in the dashboard shipping paid vs shipping label cost

## Rules for full Redux:

- No useState for application state that multiple components might need
- All state updates go through dispatch(action())
- All state reads come from useSelector()
- Only use useState for purely local UI state (like form inputs, modals)
- Clear separation: Redux = data, useState = UI

## Move to Redux if:

- Another component needs access to the state
- You need state to persist navigation
- The state has complex business logic
- Multiple components modify the same state

## For prisma setup: don't forget to import dotenv and add dotenv.config() to server.js

## npx prisma generate:

- Modify your schema.prisma file
- Add/remove/change models or fields
- Change relationships between models
- Update the database and want to sync the schema
- doesnt work unless do export DATABASE_URL="<insertURL>" npx prisma generate ?
- sudo npm install -g prisma
- prisma generate
- npx prisma studio

## Access/Update docker psql:  docker exec -it shipping-app-postgres-1 psql -U finnensley -d shipping_app; update .env to database_url to match docker. 1/6/26 matches local postgres

## For daily development, should only need to have these three running: frontend, backend, and docker or local postgres (if not using docker)
## Terminal 1: docker-compose up postgres, make sure docker desktop open/running

## Terminal 2: npm run dev

<!-- ## Terminal 2: psql -U finnensley -d shipping_app -->

## Terminal 3: node src/server.js or for auto-refresh npx nodemon src/server.js

## Terminal 4: prisma running (issues with opening, could be permissions issue) 
- issue: CLI prisma file not found in node_modules/.bin.
- fix by re-installing prisma locally: npm install prisma --save-dev; npx prism studio

## This worked to fix prisma issue: order of commands
-rm -rf node_modules
-npm install
-export DATABASE_URL=""
-npx prisma generate
-npx prisma studio
- 2nd Terminal: npm run dev
-3rd Terminal: node src/server.js
- 4th or use -d in 3rd: docker-compose up

## Solve permission issues: sudo chown -R finnensley:staff /Users/finnensley/Desktop/letPhil/React/shipping-app - didn't work still had to export DATABASE_URL directly in terminal.

## Access tables in docker: docker exec -it shipping-app-postgres-1 psql -U finnensley -d shipping_app

## Easyship:
- Import the Easyship SDK (from index.js)
- SDK (Software Development Kit) is a toolkit for developers to use an API/service easily and provides pre-built functions, handles authentication, and simplifies integration.
- Use sandbox API key (stored in a .env file, access it via process.env.EASYSHIP_SAND)
- Call the SDK methods to get carrier rates

## Order Items deducting from available_quantity
Step 1: Add "available_quantity" column to the items table 
Step 2: Initialize available_quantity to match total quantity
  - psql -U finnensley -d shipping_app -c "UPDATE items SET available_quantity = total_quantity;"
Step 3: Deduct ordered quantity from available_quantity when an order is created.
  - update /order_items POST endpoint to do the subtraction
Step 4: Update available quantity when order is updated or deleted
  - update /order_items/:id PUT endpoint
  - udpate /order_items/:id DELETE endpoint
Step 5: Re-sync order items and inventory availability_quantity, 
  - shipping_app=#
  - UPDATE items
  - SET available_quantity = total_quantity - COALESCE((
  - SELECT SUM(oi.quantity)
  - FROM order_items oi
  - WHERE oi.item_id = items.id AND oi.active = TRUE
  - ), 0);